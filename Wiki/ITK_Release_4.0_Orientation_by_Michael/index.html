
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" dir="ltr">
<head>
<title>ITK Release 4.0 Orientation by Michael</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="MediaWiki 1.16.0" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/Wiki/opensearch_desc.php" title="KitwarePublic (en)" />
<link title="Creative Commons" type="application/rdf+xml" href="/Wiki/index.php?title=ITK_Release_4.0_Orientation_by_Michael&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://creativecommons.org/licenses/by/2.5/" />
<link rel="alternate" type="application/atom+xml" title="KitwarePublic Atom feed" href="/Wiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="/Wiki/skins/common/shared.css?270" media="screen" />
<link rel="stylesheet" href="/Wiki/skins/common/commonPrint.css?270" media="print" />
<link rel="stylesheet" href="/Wiki/skins/monobook/main.css?270" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/Wiki/skins/monobook/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/Wiki/skins/monobook/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/Wiki/skins/monobook/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/Wiki/skins/monobook/IE70Fixes.css?270" media="screen" /><![endif]-->
<link rel="stylesheet" href="/Wiki/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="/Wiki/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" media="print" />
<link rel="stylesheet" href="/Wiki/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="/Wiki/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" />
<script>
var skin="monobook",
stylepath="/Wiki/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/Wiki/$1",
wgScriptPath="/Wiki",
wgScriptExtension=".php",
wgScript="/Wiki/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://www.itk.org",
wgCanonicalNamespace="",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=0,
wgPageName="ITK_Release_4.0_Orientation_by_Michael",
wgTitle="ITK Release 4.0 Orientation by Michael",
wgAction="view",
wgArticleId=3215,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=12822,
wgVersion="1.16.0",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "KitwarePublic", "5": "KitwarePublic talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk", "100": "Projects/ParaViewWeb", "101": "Projects/ParaViewWeb Talk", "102": "Projects/VTKWeb", "103": "Projects/VTKWeb Talk"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "kitwarepublic": 4, "kitwarepublic_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "projects/paraviewweb": 100, "projects/paraviewweb_talk": 101, "projects/vtkweb": 102, "projects/vtkweb_talk": 103, "image": 6, "image_talk": 7},
wgSiteName="KitwarePublic",
wgCategories=[],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script><script src="/Wiki/skins/common/wikibits.js?270"></script>
<script src="/Wiki/skins/common/ajax.js?270"></script>
<script src="/Wiki/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook&amp;270"></script>

</head>
<body class="mediawiki ltr ns-0 ns-subject page-ITK_Release_4_0_Orientation_by_Michael skin-monobook"><!-- start content -->
<pre>
I would propose that if you're really going to rethink orientation, you might use the
named coordinate space idea we've bopped around as part of NA-MIC/Slicer for some time 
now.  This step would be very useful for those of us interested in using ITK outside of 
medicine, but it's also good for more complex medical imaging problems as well.

At a very high level:

* Every image can potentially be interpreted in multiple coordinate spaces, most of which 
are domain- or application-specific.  These spaces are usually easy for people to name 
(think, &quot;strings&quot; or &quot;constants&quot;).

* Transforms describe the relationship between coordinate spaces.

* Image readers have the domain knowledge to instance coordinate spaces and the transforms
that relate them. DICOM readers, for example, may know about multiple coordinate spaces 
after reading a stream, and can instance those coordinate spaces and transforms accordingly.  
This property allows domain-specific knowledge to be encapsulated at the IO level, keeping 
it out of the ITK core.

* For sample-based images, at least one transform (or chain of transform) needs to relate 
the image's pixel coordinate space to the other coordinate spaces.  Continuous fields and 
interpolated images must similarly have some transform into their field value coordinate 
space.

* Different medical/scientific domains may define their own set of standard spaces.  The 
examples here (gross anatomical orientation, RAS space) are standard medical ones.  Other 
fields have other conventions. There's a limit to how much you can shoehorn these 
conventions together.

* Some transforms may need to have specific numeric implementations for efficiency (a 
direction cosine implementation, for example).

* In almost all cases, there is no single world coordinate space, only relative or shared 
coordinate spaces.  The assumption of a world coordinate space is often misleading and 
potentially dangerous.

* Registration algorithms provide transforms that relate the coordinate spaces of different 
images.  This transform may be exact or approximate.  Another way to think about registration 
is that it defines a new coordinate space (a &quot;registration coordinate space&quot;) and relates one 
or more image coordinate spaces to that space.

* Coordinate spaces may have other properties: numerical accuracy, for example.  Registration 
coordinate spaces, for instance, are natural places to store numerical error bounds 
associated with the registration algorithm.

* Computers are better than people at managing the complex relationships between multiple 
coordinate spaces.  Getting transform chains right is hard.  It's much easier for people to 
figure out simple transforms, then ask, &quot;give me the transform that takes me from pixel space 
of image X to pixel space of image Y using the registration space R&quot;.


Yes, it might be hard to retrofit this structure into ITK with compatibility.  The model is 
clean and general though, so with any luck it should be possible to solve the orientation and 
transform problems once and for all.

--Mike
</pre>

<!-- 
NewPP limit report
Preprocessor node count: 4/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key KitwarePublicWikiDB:pcache:idhash:3215-0!1!0!!en!2!edit=0 and timestamp 20100923212007 -->
<div class="printfooter">
Retrieved from "<a href="http://www.itk.org/Wiki/ITK_Release_4.0_Orientation_by_Michael">http://www.itk.org/Wiki/ITK_Release_4.0_Orientation_by_Michael</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content --></body></html>
