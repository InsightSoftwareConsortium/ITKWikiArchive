<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>ITK/Cross Compiling</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"956628b179ecd164e21fc28c","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"ITK/Cross_Compiling","wgTitle":"ITK/Cross Compiling","wgCurRevisionId":62200,"wgRevisionId":62200,"wgArticleId":8798,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Wikipedia shortcut box first parameter needs fixing","Inactive project pages"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"ITK/Cross_Compiling","wgRelevantArticleId":8798,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],
"wgRestrictionMove":[]};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","skins.monobook.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.monobook.scripts"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link href="/Wiki/load.php?lang=en&amp;modules=skins.monobook.styles&amp;only=styles&amp;skin=monobook" rel="stylesheet"/>
<script async="" src="/Wiki/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=monobook"></script>
<meta content="" name="ResourceLoaderDynamicStyles"/>
<link href="/Wiki/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=monobook" rel="stylesheet"/>
<meta content="MediaWiki 1.37.1" name="generator"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0" name="viewport"/>
<link href="/favicon.ico" rel="shortcut icon"/>
<link href="/Wiki/opensearch_desc.php" rel="search" title="KitwarePublic (en)" type="application/opensearchdescription+xml"/>
<link href="https://public.kitware.com/Wiki/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="https://creativecommons.org/licenses/by/2.5/" rel="license"/>
<link href="/Wiki/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="KitwarePublic Atom feed" type="application/atom+xml"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ITK_Cross_Compiling rootpage-ITK skin-monobook action-view skin--responsive"><!-- start content -->
<div class="mw-body-content mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><table class="metadata plainlinks ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" decoding="async" height="38" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Historical.svg/30px-Historical.svg.png" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Historical.svg/45px-Historical.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Historical.svg/60px-Historical.svg.png 2x" width="30"/></div></td><td class="mbox-text"><span class="mbox-text-span">{{#switch:|User|User talk=<b>This user {{#ifeq:ITK|ITK/Cross Compiling||sub}}page is currently inactive and is retained for historical reference.</b> {{#if: |It was last updated {{{last}}}.}}<br/>If you want to revive discussion regarding the subject, you might try contacting <a class="new" href="/Wiki/index.php?title=User_talk:ITK&amp;action=edit&amp;redlink=1" title="User talk:ITK (page does not exist)">the user in question</a> or seeking broader input via a forum such as the <a class="extiw" href="http://www.wikipedia.org/wiki/Village_pump_(proposals)" title="wikipedia:Village pump (proposals)">village pump</a>.|#default={{#switch:{{{type}}}|policy=<b>This former <a class="extiw" href="http://www.wikipedia.org/wiki/Policies_and_guidelines" title="wikipedia:Policies and guidelines">Wikipedia policy</a>, no longer backed by community consensus, is retained for historical reference.</b>|guideline=<b>This former <a class="extiw" href="http://www.wikipedia.org/wiki/Policies_and_guidelines" title="wikipedia:Policies and guidelines">Wikipedia guideline</a>, no longer backed by community consensus, is retained for historical reference.</b>|
<p>|section=<b>This section is currently out-of-date and may contain errors but is retained for historical reference. </b>{{#if: || For peer-reviewed, authoritative guidance on ITK, see <a class="external text" href="https://itk.org/ITKSoftwareGuide/html/" rel="nofollow">The ITK Software Guide.</a>. Additional guidance can be found via the <a class="external text" href="https://itk.org/ITK/help/mailing.html" rel="nofollow">mailing lists</a>.}}
</p>
|woundup=<b>This page has been closed down by <a class="extiw" href="http://www.wikipedia.org/wiki/Consensus" title="wikipedia:Consensus">community consensus</a>, and is retained only for historical reference.</b> For peer-reviewed, authoritative guidance on ITK, see <a class="external text" href="https://itk.org/ITKSoftwareGuide/html/" rel="nofollow">The ITK Software Guide.</a> If you wish to restart discussion on the status of this page, seek community input via the <a class="external text" href="https://itk.org/ITK/help/mailing.html" rel="nofollow">mailing lists</a>].|#default=<b>This section is currently out-of-date and may contain errors but is retained for historical reference. </b>{{#if: || For peer-reviewed, authoritative guidance on ITK, see <a class="external text" href="https://itk.org/ITKSoftwareGuide/html/" rel="nofollow">The ITK Software Guide.</a> Additional guidance can be found via the <a class="external text" href="https://discourse.itk.org" rel="nofollow">ITK Discourse</a>.}}}} {{#if: |{{{comment}}}|}} {{#if: |It was last updated {{{last}}}.}}  }}</span></td><td class="mbox-imageright"><div style="width:52px">{{#if: | <div class="shortcutbox plainlist noprint" role="note" style="float: right; border: 1px solid #aaa; background: #fff; margin: 0; padding: 0.3em; text-align: center; line-height: 1.4em; font-weight: bold; font-size: smaller;">{{#if:|<span id=""></span> }}{{#if:|<span id=""></span> }}{{#if:|<span id=""></span> }}{{#if:|<span id=""></span> }}{{#if: |<span id=""></span> }}<a class="extiw" href="http://www.wikipedia.org/wiki/Shortcut" title="wikipedia:Shortcut">Shortcut{{#if:|s}}</a>:<ul>{{#if:|<li>[[]]</li>}}{{#if:|<li>[[]]</li>}}{{#if:|<li>[[]]</li>}}{{#if:|<li>[[]]</li>}}{{#if: |<li>[[ ]]</li>}}</ul>
</div>{{#if:
<p>| {{#ifexist:
</p>
<pre> | 
 |
 }} 
</pre>
}} }}</div></td></tr></tbody></table><p>{{#switch:|User|User talk=|#default={{#ifeq:{{{category}}}|no||}}}}
</p><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#In_Linux_Host_for_Mac_Target"><span class="tocnumber">1</span> <span class="toctext">In Linux Host for Mac Target</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Major_steps"><span class="tocnumber">1.1</span> <span class="toctext">Major steps</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Building_the_ToolChain_for_Darwin"><span class="tocnumber">1.1.1</span> <span class="toctext">Building the ToolChain for Darwin</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Gathering_Configuration_settings_in_the_target_system"><span class="tocnumber">1.1.2</span> <span class="toctext">Gathering Configuration settings in the target system</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Using_the_Configuration_in_the_Host"><span class="tocnumber">1.1.3</span> <span class="toctext">Using the Configuration in the Host</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#The_full_process_scripted"><span class="tocnumber">1.2</span> <span class="toctext">The full process scripted</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#In_Linux_Host_for_Windows_Target"><span class="tocnumber">2</span> <span class="toctext">In Linux Host for Windows Target</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Major_steps_2"><span class="tocnumber">2.1</span> <span class="toctext">Major steps</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Building_the_ToolChain_for_Windows"><span class="tocnumber">2.1.1</span> <span class="toctext">Building the ToolChain for Windows</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Gathering_Configuration_settings_in_the_target_system_2"><span class="tocnumber">2.1.2</span> <span class="toctext">Gathering Configuration settings in the target system</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Using_the_Configuration_in_the_Host_2"><span class="tocnumber">2.1.3</span> <span class="toctext">Using the Configuration in the Host</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#In_Linux_Host_for_ARM_Target"><span class="tocnumber">3</span> <span class="toctext">In Linux Host for ARM Target</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Major_steps_3"><span class="tocnumber">3.1</span> <span class="toctext">Major steps</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Building_the_ToolChain_for_ARM"><span class="tocnumber">3.1.1</span> <span class="toctext">Building the ToolChain for ARM</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Gathering_Configuration_settings_in_the_target_system_3"><span class="tocnumber">3.1.2</span> <span class="toctext">Gathering Configuration settings in the target system</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Using_the_Configuration_in_the_Host_3"><span class="tocnumber">3.1.3</span> <span class="toctext">Using the Configuration in the Host</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Dealing_with_TIFF_bootstrapping"><span class="tocnumber">3.1.4</span> <span class="toctext">Dealing with TIFF bootstrapping</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Packaging"><span class="tocnumber">3.1.5</span> <span class="toctext">Packaging</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Extra_Links"><span class="tocnumber">3.1.6</span> <span class="toctext">Extra Links</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>This page describes the procedure to follow when cross compiling ITK for another system.
</p><p>In this page, we will refer to the system as:
</p>
<ul><li>Target System: The system where the executables are intended to run.</li>
<li>Build System: The system where the executables are built.</li></ul>
<h1><span class="mw-headline" id="In_Linux_Host_for_Mac_Target">In Linux Host for Mac Target</span></h1>
<p>In this particular case we illustrate
</p>
<ul><li>Target System = Mac</li>
<li>Build System = Linux</li></ul>
<h2><span class="mw-headline" id="Major_steps">Major steps</span></h2>
<ol><li>Build your tool chain in the build system
<ul><li>This is the set of compiler and linker that must be build in the <b>build</b> system, but will know how to generate code for the Target system.</li></ul></li>
<li>Create a TryRun ... file in the <b>native</b> system
<ul><li>This could be generated (as a skeleton) with the following commands</li></ul></li></ol>
<h3><span class="mw-headline" id="Building_the_ToolChain_for_Darwin">Building the ToolChain for Darwin</span></h3>
<p>The following is a script developed by Johannes Schindelin (originally intended for <a class="external text" href="http://pacific.mpi-cbg.de/wiki/index.php/Fiji" rel="nofollow">FIJI</a>)
</p><p><a class="internal" href="/Wiki/images/5/5b/Build-macosx-cross-compiler.sh.gz" title="Build-macosx-cross-compiler.sh.gz">Script for Building the Darwing Toolchain in Linux</a>
</p>
<h3><span class="mw-headline" id="Gathering_Configuration_settings_in_the_target_system">Gathering Configuration settings in the target system</span></h3>
<p>Following the advice of the CMake Wiki <a class="external autonumber" href="http://www.cmake.org/Wiki/CMake_Cross_Compiling" rel="nofollow">[1]</a>
</p><p>Put the following in a file called ToolChain.cmake
</p>
<pre> # this one is important
 SET(CMAKE_SYSTEM_NAME Linux)
 #this one not so much
 SET(CMAKE_SYSTEM_VERSION 1)
 # specify the cross compiler
 SET(CMAKE_C_COMPILER   /usr/bin/gcc)
 SET(CMAKE_CXX_COMPILER /usr/bin/g++)
 # where is the target environment
 SET(CMAKE_FIND_ROOT_PATH  /usr)
 # search for programs in the build host directories
 SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
 # for libraries and headers in the target directories
 SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
 SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
</pre>
<p>and run it with CMake using the command (in an empty directory)
</p>
<pre> cmake -DCMAKE_TOOLCHAIN_FILE=./ToolChain.cmake   ~/src/ITK
</pre>
<p>This will generate (among many other things) a File called 
</p>
<pre>              TryRunResults.cmake
</pre>
<p>Then, manually populate, the values of each one of the fields.
</p><p>The values to be put in this file can be taken from the CMakeCache.txt file of a native build in Darwin.
</p><p><br/>
Finally, copy this file to the build system.
</p>
<h3><span class="mw-headline" id="Using_the_Configuration_in_the_Host">Using the Configuration in the Host</span></h3>
<p>Now that you have copied the TryRunResuls.cmake file to the host system, you can use it as an initial cache for configuring the build.
</p><p>Do the command in the build system.
</p>
<pre>   cmake -C ~/TryRunResults.cmake   ~/src/ITK
</pre>
<p>once the configuration is completed you can proceed to build ITK by simply typing
</p>
<pre>   make
</pre>
<h2><span class="mw-headline" id="The_full_process_scripted">The full process scripted</span></h2>
<p>The process as a whole has been scripted in the file below
</p><p><a class="internal" href="/Wiki/images/8/87/ITK-cross-compiling-for-macosx.sh.gz" title="ITK-cross-compiling-for-macosx.sh.gz">Script for configuring a cross-compilation build</a>
</p><p>Thanks to Johannes Schindelin for contributing the script.
</p>
<h1><span class="mw-headline" id="In_Linux_Host_for_Windows_Target">In Linux Host for Windows Target</span></h1>
<p>In this particular case we illustrate
</p>
<ul><li>Target System = Windows</li>
<li>Build System = Linux</li></ul>
<p><i>Note:</i> the <a class="external text" href="http://mxe.cc/" rel="nofollow">MXE</a> project has an ITK package! Just
</p>
<pre> cd mxe
 make itk
</pre>
<p><br/>
</p>
<h2><span class="mw-headline" id="Major_steps_2">Major steps</span></h2>
<ol><li>Build your tool chain in the build system
<ul><li>This is the set of compiler and linker that must be build in the <b>build</b> system, but will know how to generate code for the Target system.</li>
<li>In this case we use MinGW as the tool chain</li></ul></li>
<li>Create a TryRun ... file in the <b>native</b> system
<ul><li>This could be generated (as a skeleton) with the following commands</li></ul></li></ol>
<h3><span class="mw-headline" id="Building_the_ToolChain_for_Windows">Building the ToolChain for Windows</span></h3>
<p>The <a class="external text" href="http://mxe.cc/" rel="nofollow">MXE</a> project will build the toolchain nicely, and it even creates a CMake toolchain file.
</p><p>The following is a script developed by Johannes Schindelin (originally intended for <a class="external text" href="http://pacific.mpi-cbg.de/wiki/index.php/Fiji" rel="nofollow">FIJI</a>).
<a class="internal" href="/Wiki/images/3/3b/Build-windows-cross-compiler.sh.gz" title="Build-windows-cross-compiler.sh.gz">Script for Building the Windows (MinGW) Toolchain in Linux</a>
</p>
<h3><span class="mw-headline" id="Gathering_Configuration_settings_in_the_target_system_2">Gathering Configuration settings in the target system</span></h3>
<p>Following the advice of the CMake Wiki <a class="external autonumber" href="http://www.cmake.org/Wiki/CMake_Cross_Compiling" rel="nofollow">[2]</a>, put the following in a file called ToolChain.cmake
</p>
<pre> # this one is important
 SET(CMAKE_SYSTEM_NAME Linux)
 #this one not so much
 SET(CMAKE_SYSTEM_VERSION 1)
 # specify the cross compiler
 SET(CMAKE_C_COMPILER   /usr/bin/gcc)
 SET(CMAKE_CXX_COMPILER /usr/bin/g++)
 # where is the target environment
 SET(CMAKE_FIND_ROOT_PATH  /usr)
 # search for programs in the build host directories
 SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
 # for libraries and headers in the target directories
 SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
 SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
</pre>
<p>Note that if you are using MXE, it already comes with a toolchain file at
</p>
<pre> mxe/usr/i686-pc-mingw32/share/cmake/mxe-conf.cmake
</pre>
<p>Run CMake using the command (in an empty directory)
</p>
<pre> cmake -DCMAKE_TOOLCHAIN_FILE=./ToolChain.cmake   ~/src/ITK
</pre>
<p>This will generate (among many other things) a File called 
</p>
<pre>              TryRunResults.cmake
</pre>
<p>The values to be put in this file can be taken from the CMakeCache.txt file of a native build in Windows.  The CMakeCache.txt can be created by manually running a CMake configuration on Windows.  Use <a class="external text" href="https://gist.github.com/thewtex/5931775" rel="nofollow">this script</a> to populate the TryRun results with the Windows CMakeCache.txt contents.
</p>
<h3><span class="mw-headline" id="Using_the_Configuration_in_the_Host_2">Using the Configuration in the Host</span></h3>
<p>Now that you have copied the TryRunResuls.cmake file to the host system, you can use it as an initial cache for configuring the build.
</p><p>Do the command in the build system.
</p>
<pre>   cmake -C ~/TryRunResults.cmake   ~/src/ITK
</pre>
<p>once the configuration is completed you can proceed to build ITK by simply typing
</p>
<pre>   make
</pre>
<p>The build process will fail when trying to create the HDF5 library.
</p>
<pre> [ 73%] Building C object Modules/ThirdParty/HDF5/src/itkhdf5/src/CMakeFiles/H5make_libsettings.dir/H5make_libsettings.c.obj
 Linking C executable ../../../../../../bin/H5make_libsettings.exe
 [ 73%] Built target H5make_libsettings
 Scanning dependencies of target H5detect
 [ 73%] Building C object Modules/ThirdParty/HDF5/src/itkhdf5/src/CMakeFiles/H5detect.dir/H5detect.c.obj
 Linking C executable ../../../../../../bin/H5detect.exe
 [ 73%] Built target H5detect
 [ 73%] Generating ../H5lib_settings.c
 /bin/sh: ../../../../../../bin/H5make_libsettings.exe: cannot execute binary file
 make[2]: *** [Modules/ThirdParty/HDF5/src/itkhdf5/H5lib_settings.c] Error 126
 make[1]: *** [Modules/ThirdParty/HDF5/src/itkhdf5/src/CMakeFiles/itkhdf5.dir/all] Error 2
 make: *** [all] Error 2
</pre>
<p>Copy the executables that were created on the host system, <i>bin/H5detect.exe</i> and <i>bin/H5make_libsettings.exe</i> to the Windows target and run them,
</p>
<pre> H5detect &gt; H5Tinit.c
 H5make_libsettings.exe &gt; H5lib_settings.c
</pre>
<p>Then copy the results *.c files to <i>Modules/ThirdParty/HDF5/src/itkhdf5/</i> in the host build tree.  Restart the build,
</p>
<pre> make
</pre>
<h1><span class="mw-headline" id="In_Linux_Host_for_ARM_Target">In Linux Host for ARM Target</span></h1>
<p>In this particular case we illustrate
</p>
<ul><li>Target System = Raspberry Pi (ARMv6)</li>
<li>Build System = Linux (Ubuntu 12.10)</li></ul>
<h2><span class="mw-headline" id="Major_steps_3">Major steps</span></h2>
<ol><li>Build your tool chain in the build system
<ul><li>This is the set of compiler and linker that must be build in the <b>build</b> system, but will know how to generate code for the Target system.</li>
<li>In this case we use crosstool-ng to build the tool chain</li></ul></li>
<li>Create a TryRun ... file in the <b>native</b> system
<ul><li>This could be generated (as a skeleton) with the following commands</li></ul></li></ol>
<h3><span class="mw-headline" id="Building_the_ToolChain_for_ARM">Building the ToolChain for ARM</span></h3>
<ul><li>The process is described in detail here:
<ul><li><a class="external free" href="http://www.kitware.com/blog/home/post/426" rel="nofollow">http://www.kitware.com/blog/home/post/426</a></li></ul></li>
<li>based on the instructions from:
<ul><li><a class="external free" href="http://www.bootc.net/archives/2012/05/26/how-to-build-a-cross-compiler-for-your-raspberry-pi/" rel="nofollow">http://www.bootc.net/archives/2012/05/26/how-to-build-a-cross-compiler-for-your-raspberry-pi/</a></li></ul></li></ul>
<h3><span class="mw-headline" id="Gathering_Configuration_settings_in_the_target_system_3">Gathering Configuration settings in the target system</span></h3>
<p>Following the advice of the CMake Wiki <a class="external autonumber" href="http://www.cmake.org/Wiki/CMake_Cross_Compiling" rel="nofollow">[3]</a>
</p><p>Put the following in a file called ToolChain.cmake
</p>
<pre> # this one is important
 SET(CMAKE_SYSTEM_NAME Linux)
 #this one not so much
 SET(CMAKE_SYSTEM_VERSION 1)
 # specify the cross compiler
 SET(CMAKE_C_COMPILER
 /home/ibanez/local/x-tools/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-gcc)
 SET(CMAKE_CXX_COMPILER
 /home/ibanez/local/x-tools/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-g++)
 # where is the target environment
 SET(CMAKE_FIND_ROOT_PATH
 /home/ibanez/local/x-tools/arm-unknown-linux-gnueabi)
 # search for programs in the build host directories
 SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
 # for libraries and headers in the target directories
 SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
 SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
</pre>
<p><br/>
and run it with CMake using the command (in an empty directory)
</p>
<pre> cmake -DCMAKE_TOOLCHAIN_FILE=./ToolChain.cmake   ~/src/ITK
</pre>
<p>This will generate (among many other things) a File called
</p>
<pre>              TryRunResults.cmake
</pre>
<p>Then, manually populate, the values of each one of the fields.
</p><p>The values to be put in this file can be taken from the CMakeCache.txt file of a native build in the Raspberry Pi.
</p><p>For reference, 
</p>
<ul><li>Here is a <a class="internal" href="/Wiki/images/f/f1/CMakeCache_ITK_RaspberryPi.txt" title="CMakeCache ITK RaspberryPi.txt">CMakeCache.txt file</a> from a native configuration in the Raspberry Pi.</li>
<li>Here is the corresponding <a class="internal" href="/Wiki/images/a/ae/TryRunResults_ITK_RaspberryPi.cmake" title="TryRunResults ITK RaspberryPi.cmake">TryRunResults.cmake file</a> after updating values from the Raspberry Pi.</li></ul>
<h3><span class="mw-headline" id="Using_the_Configuration_in_the_Host_3">Using the Configuration in the Host</span></h3>
<p>Now that you have copied the TryRunResuls.cmake file to the host system, you can use it as an initial cache for configuring the build.
</p><p>Do the command in the build system.
</p>
<pre>   cmake -C ~/TryRunResults.cmake -DCMAKE_TOOLCHAIN_FILE=./ToolChain.cmake  ~/src/ITK
</pre>
<p>once the configuration is completed you can proceed to build ITK by simply typing
</p>
<pre>   make
</pre>
<h3><span class="mw-headline" id="Dealing_with_TIFF_bootstrapping">Dealing with TIFF bootstrapping</span></h3>
<p>The build process of the TIFF library requires to first build an executable file called:
</p>
<ul><li>mkg3states (renamed as itkmkg3states in ITK)</li></ul>
<p>in order to generate a file called:
</p>
<ul><li>tif_fax2sm.c</li></ul>
<p>Since, during the cross-compilation process we generate executables that are for a different target architecture, the itkmkg3states file that we built, can't be run in the host to generate the tif_fax2sm.c file.
</p><p>One way around this is to build the executable for the architecture of the host (e.g. taking it from any other local build of ITK in the host), and use it to replace the itkmkg3states file. Then using it to generate the .c file.
</p><p>This can be done with the following commands:
</p>
<ul><li>cd ITK_CROSS_COMPILED_BINARY_DIR/Modules/ThirdParty/TIFF/src/itktiff</li>
<li>cp ITK_NATIVE_BINARY_DIR/Modules/ThirdParty/TIFF/src/itktiff/itkmkg3states  .</li>
<li>./itkmkg3states -c const ITK_CROSS_COMPILED_BINARY_DIR/Modules/ThirdParty/TIFF/src/itktiff/tif_fax3sm.c</li></ul>
<p>Then it is possible to continue with the "make" process.
</p>
<h3><span class="mw-headline" id="Packaging">Packaging</span></h3>
<p>Once the build finishes, we can package ITK with the command:
</p>
<ul><li>make package</li></ul>
<p>this will produce three files (that are independent of each other)
</p>
<ul><li>ITK-4.4.0-Linux.sh</li>
<li>ITK-4.4.0-Linux.tar.gz</li>
<li>ITK-4.4.0-Linux.tar.Z</li></ul>
<p>For example, copying the ITK-4.4.0-Linux.tar.gz file to the target, and expanding it there will provide a local installation of ITK against which it is possible to build ITK applications.
</p>
<h3><span class="mw-headline" id="Extra_Links">Extra Links</span></h3>
<ul><li><a class="external free" href="http://www.kitware.com/blog/home/post/422" rel="nofollow">http://www.kitware.com/blog/home/post/422</a></li>
<li><a class="external free" href="http://www.kitware.com/blog/home/post/426" rel="nofollow">http://www.kitware.com/blog/home/post/426</a></li>
<li><a class="external free" href="http://www.kitware.com/blog/home/post/428" rel="nofollow">http://www.kitware.com/blog/home/post/428</a></li></ul>
<!-- 
NewPP limit report
Cached time: 20220520055831
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.070 seconds
Real time usage: 0.805 seconds
Preprocessor visited node count: 168/1000000
Post‐expand include size: 9622/2097152 bytes
Template argument size: 4/2097152 bytes
Highest expansion depth: 8/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
Lua time usage: 0.030/7 seconds
Lua virtual size: 5320704/52428800 bytes
Lua estimated memory usage: 0 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   83.025      1 Template:Historical
100.00%   83.025      1 -total
 96.65%   80.242      1 Template:Mbox
  4.03%    3.345      1 Template:Ombox/shortcut
-->
<!-- Saved in parser cache with key KitwarePublicWikiDB:pcache:idhash:8798-0!canonical and timestamp 20220520055830 and revision id 62200. Serialized with JSON.
 -->
</div>
</div>

<!-- end content --></body></html>