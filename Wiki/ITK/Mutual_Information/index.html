<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>ITK/Mutual Information - KitwarePublic</title>
<meta content="IE=EDGE" http-equiv="X-UA-Compatible"/>
<meta content="MediaWiki 1.23.8" name="generator"/>
<link href="/favicon.ico" rel="shortcut icon"/>
<link href="/Wiki/opensearch_desc.php" rel="search" title="KitwarePublic (en)" type="application/opensearchdescription+xml"/>
<link href="http://www.itk.org/Wiki/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="https://creativecommons.org/licenses/by/2.5/" rel="copyright"/>
<link href="/Wiki/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="KitwarePublic Atom feed" type="application/atom+xml"/>
<link href="http://www.itk.org/Wiki/load.php?debug=false&amp;lang=en&amp;modules=ext.math.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" rel="stylesheet"/>
<!--[if IE 6]><link rel="stylesheet" href="/Wiki/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/Wiki/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta content="" name="ResourceLoaderDynamicStyles"/>
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: KitwarePublicWikiDB:resourceloader:filter:minify-css:7:f67a91830b2c06c30170e182d61a9a1b */</style>
<script src="http://www.itk.org/Wiki/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ITK/Mutual_Information","wgTitle":"ITK/Mutual Information","wgCurRevisionId":45915,"wgRevisionId":45915,"wgArticleId":626,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["ITK"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"ITK/Mutual_Information","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":0,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: KitwarePublicWikiDB:resourceloader:filter:minify-js:7:6fb34dd1cd86154205b858dd017713f7 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-ITK_Mutual_Information skin-monobook action-view"><!-- start content -->
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><h2><span class="mw-headline" id="What_is_Mutual_Information">What is Mutual Information</span></h2>
<p>When you consider the pixel values of images A and B to be random variables, "a" and "b"; and estimate the entropy of their distributions you get
</p><p><img alt="" class="mwe-math-fallback-png-inline tex" src="/Wiki/images/math/6/d/d/6dd7f7bf76639f3cf12edbe8ef87b3f2.png"/>
</p><p><img alt="" class="mwe-math-fallback-png-inline tex" src="/Wiki/images/math/9/7/3/973e1146f4a3b6aaa9ca01fd795d7721.png"/>
</p><p>Note that log2 is the logarithm in base two, not the natural logarigthm that unfortunately is commonly used.
</p><p>When you use log2(), the Units of entropy are "bit"s. It is again unfortunate that the usage of "bit" as unit of information measurement has been distorted in order to become the a symbol for binary encoding, o a unit of measurement for raw capacity of memory storage (along with its derivatives the byte, KiloByte, MegaByte... )
</p><p>A digital image whose pixels are encoded in pixels of M bits, can have 2^M different grayscale values in a pixel and therfore its entropy can go up to the maximum theoretical value of log2(2^M) which, not coincidentally is equal to M.
</p><p>In other words, if you compute the entropy of an image with PixelType unsigned char, whose pixels have grayscale values following a uniform distribution, the maximum value that you can get is "8", and if you want to be formal, you should mention the units and say:
</p>
<pre>  The Entropy of this image is:    "8 bits"
</pre>
<p>In practice, of course you get lower values. For example the Entropy of the well known Lena image (the cropped version that is politicaly correct) is
</p>
<pre>         Lena Entropy  = 7.44 bits
</pre>
<p><br/>
Now if you consider the mutual information measure, you have the following situation:
</p><p><br/>
</p>
<pre>     Mutual Information = H(A) + H(B) - H(A,B)
</pre>
<pre>             MI(A,B)     = H(A) + H(B) - H(A,B)
</pre>
<p>In general, both H(A) and H(B) are bounded between [0:M] where "M" is the number of bits used for encoding their pixels.
</p>
<pre>      H(A,B) is in theory bounded in [0:M2]
</pre>
<p><br/>
Note that if you use histograms with *less* bins than the actual digital encoding of the image, then your estimation of Entropy is bounded by the number of bins in your Histogram. !
</p><p>For example if you use a histogram with 20 bins instead of 256 in order to estimate Lena's Entropy you will not get 7.44 bits, but only
</p>
<pre>                  3.99 bits
</pre>
<p>that reflects the fact that by quantizing the gray scale values in larger bins you lose information from the original image.
</p><p><br/>
</p><p>For the particular case of Self-similarity, the entropies H(A) and H(B) are expected to be pretty much the same. Their difference arise only from interpolation errors and from the eventual effect of one image having corners outside of the extent of the other (e.g. if the image is rotated).
</p><p>So, in general Mutual Information will give you
</p>
<pre>          MI(A,T(A)) = H(A) + H(T(A)) - H(A,T(A))
</pre>
<p>Where T(A) is the transformed version of A. E.g. under a translation, or rotation, or affine transform.
</p><p>If T = Identity and the interpolator is not approximating, your measure of Mutual Information becomes
</p>
<pre>            MI(A,A) = 2 H(A) - H(A,A)
</pre>
<p>and the joint entropy H(A,A) happens to be equal to the entropy of the single image H(A), therefore the expected value of Mutual Information is equal to the image Entropy (of course measured in bits).
</p>
<pre>                   MI(A,A) = H(A) bits
</pre>
<p>That means that if you evaluate the Mutual Information measure between Lena and itself, you should get
</p>
<pre>                     7.44 bits
</pre>
<p><br/>
Note that the reason why the measure of Mutual Information is reported as a negative number in ITK is because traditionally that has been used as a cost function for minimization.
</p><p>However, in principle, Mutual information should be reported in the range [0,H(A)], where zero corresponds to two totally uncorrelated images and H(A) corresponds to perfectly correlated images, case in which H(A)=H(B).
</p><p><br/>
To summarize, note that ITK is not using log2() but just log(), and note that the measure is reported as a negative number.
</p><p>We just added a simple example for computing the Entropy of the pixel value distribution of an image to the directory:
</p>
<pre>      Insight/Examples/Statistics/
                         ImageEntropy1.cxx
</pre>
<p>You may find interesting to play with this example. E.g. you should try the effect of changing the number of bins in the histogram.
</p><p><br/>
</p>
<hr/>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td bgcolor="#F9F9F9"> <center><small>ITK: [<a href="/Wiki/ITK" title="ITK">Welcome</a> | <a href="/Wiki/Category:ITK" title="Category:ITK">Site Map</a>]</small></center>
</td></tr></table>
<!-- 
NewPP limit report
CPU time usage: 0.024 seconds
Real time usage: 0.045 seconds
Preprocessor visited node count: 12/1000000
Preprocessor generated node count: 64/1000000
Post‐expand include size: 222/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!-- Saved in parser cache with key KitwarePublicWikiDB:pcache:idhash:626-0!*!0!*!*!*!*!math=0 and timestamp 20150924071438 and revision id 45915
 -->
</div><div class="printfooter">
Retrieved from "<a href="http://www.itk.org/Wiki/index.php?title=ITK/Mutual_Information&amp;oldid=45915">http://www.itk.org/Wiki/index.php?title=ITK/Mutual_Information&amp;oldid=45915</a>"</div>
<div class="catlinks" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a href="/Wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/Wiki/Category:ITK" title="Category:ITK">ITK</a></li></ul></div></div> <!-- end content --></body></html>