<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>ITK/Testing</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"4b0ae357527a2a6613105d40","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ITK/Testing","wgTitle":"ITK/Testing","wgCurRevisionId":61518,"wgRevisionId":61518,"wgArticleId":697,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["ITK"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"ITK/Testing","wgRelevantArticleId":697,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready",
"user.options":"loading","skins.monobook.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.monobook.scripts"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1i9g4",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link href="/Wiki/load.php?lang=en&amp;modules=skins.monobook.styles&amp;only=styles&amp;skin=monobook" rel="stylesheet"/>
<script async="" src="/Wiki/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=monobook"></script>
<meta content="" name="ResourceLoaderDynamicStyles"/>
<link href="/Wiki/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=monobook" rel="stylesheet"/>
<meta content="MediaWiki 1.38.6" name="generator"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0" name="viewport"/>
<link href="/favicon.ico" rel="shortcut icon"/>
<link href="/Wiki/opensearch_desc.php" rel="search" title="KitwarePublic (en)" type="application/opensearchdescription+xml"/>
<link href="https://public.kitware.com/Wiki/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="https://creativecommons.org/licenses/by/2.5/" rel="license"/>
<link href="/Wiki/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="KitwarePublic Atom feed" type="application/atom+xml"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ITK_Testing rootpage-ITK skin-monobook action-view skin--responsive"><!-- start content -->
<div class="mw-body-content mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p>Testing plays a vital role in the ITK development process. We use the open source, web-based CDash Dashboard Server to display test results.
</p>
<div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Is_ITK_tested_regularly?"><span class="tocnumber">1</span> <span class="toctext">Is ITK tested regularly?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#What_is_the_testing_schedule?"><span class="tocnumber">2</span> <span class="toctext">What is the testing schedule?</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#What_kind_of_testing_is_performed?"><span class="tocnumber">3</span> <span class="toctext">What kind of testing is performed?</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#How_Do_I_Add_a_Test?"><span class="tocnumber">4</span> <span class="toctext">How Do I Add a Test?</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#What_is_a_continuous_build_and_how_can_I_contribute_one?"><span class="tocnumber">5</span> <span class="toctext">What is a continuous build and how can I contribute one?</span></a></li>
</ul>
</div>
<h3><span id="Is_ITK_tested_regularly.3F"></span><span class="mw-headline" id="Is_ITK_tested_regularly?">Is ITK tested regularly?</span></h3>
<p>ITK is tested throughout the day on machines distributed around the world. You can view the results at:
</p><p><a class="external free" href="http://open.cdash.org/index.php?project=Insight" rel="nofollow">http://open.cdash.org/index.php?project=Insight</a>
</p><p>ITK is tested on a variety of platforms and configurations. Nightlies and gerrit submissions are ensured to be tested on Windows, OS X and Linux OS. A wide range of compiler versions are tested. Despite intensive testing, note that <b>not all possible compilers and configurations (i.e. external modules, third party-dependent modules, other CMake flags, etc.)</b> are tested.
</p><p>The ITK components that get tested on a regular basis include:
</p>
<ul><li>The <b>ITK code</b>.</li>
<li>The <b>Python wrap</b>.</li>
<li>The <b>Software Guide</b>.</li>
<li>The <b>Examples</b>.</li>
<li>The <b>Remote</b> modules (non-exhaustive).</li></ul>
<p>ITK uses CDash to perform builds, run tests and generate dashboards. You can find more information about CDash at <a class="external free" href="http://www.cdash.org" rel="nofollow">http://www.cdash.org</a>.
</p>
<h3><span id="What_is_the_testing_schedule.3F"></span><span class="mw-headline" id="What_is_the_testing_schedule?">What is the testing schedule?</span></h3>
<p>CDash opens a daily dashboard at 9:00PM Eastern Daylight Time (EDT) and keeps that dashbooard open for 24 hours. Build/Test results submitted as "nightlies" (<b>Expected Nightly</b>) will appear on the currently opened dashboard. Each test site can select a convenient time to run tests.
</p><p>Fresh dashboards are generated every hour, on the hour.
</p><p>In addition to nightly testing, several sites run <b>Continuous</b> build/tests. These sites monitor git repository activity and begin a build/test sequence if there are updates to the repository. If a compile error is detected, the Dashboard server sends an email to the "offending" party (author).
</p><p>For patches submitted for review to gerrit, the Kitware Build Robot gerrit user automatically builds and tests every patch set on Windows, OS X and Linux OS platforms. These are listed under the <b>Gerrit</b> section.
</p><p><a class="external text" href="http://valgrind.org/" rel="nofollow">Valgrind</a> is used to identify dynamic analysis defects (e.g. uninitialized variables, memory leaks, etc.) and is run nightly. Its results are displayed under the <b>Dynamic Analysis</b> section. If a defect is found, the Dashboard server sends an email to the "offending" party (author).
</p><p>Finally, <b>Experimental</b> builds can also be submitted any time by developers around the world.
</p>
<h3><span id="What_kind_of_testing_is_performed.3F"></span><span class="mw-headline" id="What_kind_of_testing_is_performed?">What kind of testing is performed?</span></h3>
<p>ITK has three types of tests:
</p>
<ol><li>Unit Tests. Also called white box tests. These tests reside inside each module's <i>test</i> directory. There are meant to exercise a class's methods and verify that the code compiles, links and produces expected results. These tests do not need to produce results that are useful to a user. If a test returns a 0 status, it passes. A test fails if it returns a non-zero status.</li>
<li>Blackbox Tests. These tests are automatically (or semi-automatically) generated. For example, each Code directory has a test called itkXXXHeaderTest. This test is automatically created and has a "#include" for each file in the directory.</li>
<li>Regression Tests. These tests generate results and compare them with a known result. The purpose of regression testing is to detect changes in the output of the system.</li></ol>
<h3><span id="How_Do_I_Add_a_Test.3F"></span><span class="mw-headline" id="How_Do_I_Add_a_Test?">How Do I Add a Test?</span></h3>
<p>The <a class="external text" href="https://itk.org/ItkSoftwareGuide.pdf" rel="nofollow">ITK Software Guide</a> Section 9.4 provides detailed explanations on how to create a test.
</p>
<h3><span id="What_is_a_continuous_build_and_how_can_I_contribute_one.3F"></span><span class="mw-headline" id="What_is_a_continuous_build_and_how_can_I_contribute_one?">What is a continuous build and how can I contribute one?</span></h3>
<p>Continuous builds run throughout the day and report their output in the Continuous Builds portion of the dashboard. The most recent build is at the top of the list. The builds run periodically and check the status of the repository. If a file is added or changed since the last build, the working repository of the continuous build is updated, the code compiled and tests executed. Optional e-mail notifications can be sent if there are errors, warnings or test failures.
</p><p>You can set up a continuous build. This entails writing some small shell scripts and setting up a scheduler (Scheduler for Windows, cron for Linux/Unix). You will also need to install tcl, checkout Dart and configure your build for testing.
</p><p>For Windows 2000, here are three batch files that can be modified for your own environment.
</p>
<pre>AllowInsightContinuous.bat
BuildInsightContinuous.bat
PreventInsightContinuous.bat
</pre>
<p>The batch files use a lock to prevent/allow the continuous
</p>
<pre>rem ************* AllowInsightContinuous.bat
rem Allow the Continuous to run
rem
c:
cd c:\lorensen\InsightContinuous\Insight-VC6
if EXIST continuous.lock (
  del continuous.lock
)
cd ..
rem ************* BuildInsightContinuous.bat
rem DO a C++ Build Continuously
rem
c:
rem Setup proxy it behind a firewall
set HTTP_PROXY=webcache
set HTTP_PROXY_PORT=8080
rem
rem Setup the path
rem
set PATH=c:/lorensen/InsightContinuous/Insight-VC6/bin/Release;%PATH%
rem
rem Tell cvs where .cvspass resides
set HOME=c:/lorensen
cd c:\lorensen\InsightContinuous\Insight-VC6
if EXIST continuous.lock (
  exit /B
) else (
  date /T &gt; continuous.lock
  time /T &gt;&gt; continuous.lock
  cd c:\lorensen\InsightContinuous\Insight-VC6
 tclsh83 c:/lorensen/Dart/Source/Client/DashboardManager.tcl DartConfiguration.tcl Continuous Start Update Configure Build Test Submit
 cd c:\lorensen\InsightContinuous\Insight-VC6
 del continuous.lock
 cd ..
)
rem ***************** PreventInsightContinuous.bat
rem Prevent the Continuous
rem
c:
cd c:\lorensen\InsightContinuous\Insight-VC6
if EXIST continuous.lock (
  exit /B
) else (
  echo "Prevent continuous for nightly" &gt; continuous.lock
)
cd ..
</pre>
<p>Now you need to establish a schedule for the three batch jobs. Use the "Scheduled Tasks" on the "Control Panel" to access the Schedule Task Wizard. The following schedule runs the continuous every 10 minutes from 6:05AM until 12:00AM. The Allow and Prevent scripts turn the build ON/OFF at the appropriate time. Schedule each batch file as follows:
</p>
<pre>AllowInsightContinuous.bat - Daily, Start 6:00AM
BuildInsightContinuous.bat - Daily, Start 6:05AM, Advanced: Repeat Task every 10 minutes, duration 17 hours and 55 minutes
PreventContinuous.bat - Daily, Start 12:00AM
</pre>
<p>Supporting ITK development process can be as easy as contributing testing results from your platform.
</p>
<ul><li>Submit testing results using <a class="mw-redirect" href="/Wiki/CMake_Testing_With_CTest" title="CMake Testing With CTest">CTest</a></li></ul>
<p><br/>
</p>
<hr/>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td bgcolor="#F9F9F9"><center><small>ITK: [<a href="/Wiki/ITK" title="ITK">Welcome</a> | <a href="/Wiki/Category:ITK" title="Category:ITK">Site Map</a>]</small></center>
</td></tr></tbody></table>
<!-- 
NewPP limit report
Cached time: 20250121023602
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.009 seconds
Real time usage: 0.011 seconds
Preprocessor visited node count: 19/1000000
Post‐expand include size: 222/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 3/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.691      1 -total
100.00%    3.691      1 Template:ITK/Template/Footer
 44.56%    1.645      1 Template:ITK/Template/Categories
-->
<!-- Saved in parser cache with key KitwarePublicWikiDB:pcache:idhash:697-0!canonical and timestamp 20250121023602 and revision id 61518. Serialized with JSON.
 -->
</div>
</div>

<!-- end content --></body>
</html>