<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>ITK/Release 4/Modularization/Code Reviews/Process - KitwarePublic</title>
<script>document.documentElement.className="client-js";RLCONF={"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"ITK/Release_4/Modularization/Code_Reviews/Process","wgTitle":"ITK/Release 4/Modularization/Code Reviews/Process","wgCurRevisionId":44231,"wgRevisionId":44231,"wgArticleId":8862,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"ITK/Release_4/Modularization/Code_Reviews/Process","wgRelevantArticleId":8862,"wgRequestId":"7c2c229b543afc39f67edc2b",
"wgCSPNonce":!1,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRedirectedFrom":"ITK_Release_4/Modularization/Code_Reviews/Process","wgInternalRedirectTargetUrl":"/ITKWikiArchive/Wiki/ITK/Release_4/Modularization/Code_Reviews/Process"};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.toc.styles":"ready","mediawiki.skinning.interface":"ready","mediawiki.skinning.content.externallinks":"ready","skins.monobook.responsive":"ready"};RLPAGEMODULES=["mediawiki.action.view.redirect","site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.monobook.mobile"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.tokens@tffin",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="/Wiki/load.php?lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.monobook.responsive&amp;only=styles&amp;skin=monobook"/>
<script async="" src="/Wiki/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=monobook"></script>
<!--[if lt IE 9]><link rel="stylesheet" href="/Wiki/skins/MonoBook/resources/screen-desktop.css?74a6a" media="screen"/><![endif]--><!--[if IE 6]><link rel="stylesheet" href="/Wiki/skins/MonoBook/resources/IE60Fixes.css?1208f" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/Wiki/skins/MonoBook/resources/IE70Fixes.css?4e4d4" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/Wiki/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=monobook"/>
<meta name="generator" content="MediaWiki 1.34.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/Wiki/opensearch_desc.php" title="KitwarePublic (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://itk.org/Wiki/api.php?action=rsd"/>
<link rel="license" href="https://creativecommons.org/licenses/by/2.5/"/>
<link rel="alternate" type="application/atom+xml" title="KitwarePublic Atom feed" href="/Wiki/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="canonical" href="https://itk.org/ITKWikiArchive/Wiki/ITK/Release_4/Modularization/Code_Reviews/Process"/>
<!--[if lt IE 9]><script src="/Wiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ITK_Release_4_Modularization_Code_Reviews_Process rootpage-ITK skin-monobook action-view"><!-- start content --><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p>This page summarizes a process proposal for managing the code reviews of the modules in ITK.
</p>
<div id="toc" class="toc"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Workflow"><span class="tocnumber">2</span> <span class="toctext">Workflow</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Graphical_Overview"><span class="tocnumber">2.1</span> <span class="toctext">Graphical Overview</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Review_Status"><span class="tocnumber">2.2</span> <span class="toctext">Review Status</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Transition_Rules"><span class="tocnumber">2.3</span> <span class="toctext">Transition Rules</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Rating"><span class="tocnumber">2.4</span> <span class="toctext">Rating</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Refactoring"><span class="tocnumber">2.5</span> <span class="toctext">Refactoring</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Implementation_Procedure"><span class="tocnumber">3</span> <span class="toctext">Implementation Procedure</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Git-Based"><span class="tocnumber">3.1</span> <span class="toctext">Git-Based</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Overview">Overview</span></h1>
<p>A Git repository will be used to host the comments from reviewers.
</p>
<ul><li>Kitware will create a separate Git repository containing
<ul><li>One text file for each one of the files in the current ITK Manifest.</li>
<li>The files will be named after the ITK files. For example
<ul><li>itkImage.h.txt  will be the code review file for itkImage.h</li></ul></li></ul></li>
<li>The repository will contain at the top level, one directory per contractor, and under that directory we will replicate the monolithic directory tree structure of ITK with only the files that have been assigned to that contractor.</li>
<li>This text files will be populated by the code reviewers with comments describing their observations during the code review process.</li></ul>
<h1><span class="mw-headline" id="Workflow">Workflow</span></h1>
<p>This section describes the life-cycle of a file when going through the code review process.
</p><p>Two concepts are introduced here:
</p>
<ul><li>Status: the current state of a given file in the code review process</li>
<li>Rating: the severity of the modifications needed by this file</li></ul>
<h2><span class="mw-headline" id="Graphical_Overview">Graphical Overview</span></h2>
<p><map name="ITK_Release 4_Modularization_Code Reviews_Process_digraph G "> 
</map></p><p><img class="" style="" alt="This is a graph with borders and nodes. Maybe there is an Imagemap used so the nodes may be linking to some Pages." src="/Wiki/images/graphviz/ITK_Release 4_Modularization_Code Reviews_Process_digraph G .png" usemap="#ITK_Release 4_Modularization_Code Reviews_Process_digraph G " />
</p>
<h2><span class="mw-headline" id="Review_Status">Review Status</span></h2>
<p>For each file, a contractor will review the code following the <a href="/Wiki/ITK_Release_4/Modularization/Code_Reviews/Checklist" class="mw-redirect" title="ITK Release 4/Modularization/Code Reviews/Checklist">Checklist</a> and specify one of the following potential status
</p>
<ul><li><b>Pending</b>: No review has been performed yet.</li>
<li><b>Rated</b>: Review has been performed and it resulted into actions to be performed by a developer.</li>
<li><b>Done</b>: Corrective actions have been taken. No further action required.</li></ul>
<h2><span class="mw-headline" id="Transition_Rules">Transition Rules</span></h2>
<ul><li>All files start in the <b>Pending</b> state.</li>
<li>From <b>Pending</b> to <b>Rated</b>: A reviewer will review the file following the <a href="/Wiki/ITK_Release_4/Modularization/Code_Reviews/Checklist" class="mw-redirect" title="ITK Release 4/Modularization/Code Reviews/Checklist">Checklist</a>, and identify actions to be taken, and will assign a developer to look into the details. The reviewer will assign a <b>rating</b> according to the list below.</li>
<li>From <b>Rated</b> to <b>Done</b>: The assigned developer will communicate back to the reviewer when the actions have been taken, the reviewer will verify the changes and, if satisfied, will set the status to <b>Done</b>.</li>
<li>From <b>Pending</b> to <b>Done</b>: A reviewer may make this transition if the rating is <b>Good</b> as defined in the rating section below.</li></ul>
<h2><span class="mw-headline" id="Rating">Rating</span></h2>
<ul><li><b>Good</b>: The file has been reviewed, and no change was required.</li>
<li><b>Minor</b>: Minor typos. In this case the reviewer will fix the problems directly (and still submit them to Gerrit). Minor changes are defined a those that do not influence the API. (including doxygen documentation).</li>
<li><b>Major</b>: File needs refactoring or major bug fixing. The reviewer must log a JIRA issue and include the issue number in the comments in the .txt review file, and the developer to which the bug has been assigned.</li>
<li><b>Remove</b>: File must be removed (broke, obsolete, irreparable).</li></ul>
<h2><span class="mw-headline" id="Refactoring">Refactoring</span></h2>
<p>For files to be refactored, that is, files that were rated as:
</p>
<ul><li>Major</li>
<li>Remove</li></ul>
<p>the following process should be followed.
</p>
<ul><li>The reviewer will log a JIRA Bug (in the standard ITK Bug tracker)</li>
<li>The reviewer will assign this bug to the developer who may be more knowledgeable about the file, e.g. the first committer of the file).</li>
<li>From there, the bug will be managed in the standard way.
<ul><li>Dependencies with other changes will be discussed at this point</li>
<li>The assigned developer will discuss fixing alternatives</li>
<li>Will implement one of such alternatives</li>
<li>The developer will push a patch to Gerrit</li>
<li>Any API issues will be managed following the Migration guide documentation procedure</li>
<li>The patch will go through code review</li>
<li>Eventually will be merged into master</li></ul></li>
<li>Once the fix is merged, the bug will be closed, and the developer will notify the reviewer</li>
<li>The reviewer will mark the issue as "Done" (using the adopted implementation: Git, JIRA or Trac).</li></ul>
<h1><span class="mw-headline" id="Implementation_Procedure">Implementation Procedure</span></h1>
<h2><span class="mw-headline" id="Git-Based">Git-Based</span></h2>
<pre>  <a rel="nofollow" class="external free" href="https://github.com/InsightSoftwareConsortium/itk-retroactive-review">https://github.com/InsightSoftwareConsortium/itk-retroactive-review</a>
</pre>
<p>We will use a parallel Git repository for hosting the content of the reviews in free format text files.
</p>
<ul><li>The repository has a mirror copy of the Modular ITK directory tree structure.</li>
<li>For each ITK source code file, this Git repository contains a text file.
<ul><li>The filename matches one-to-one the filenames in ITK, plus the extension .txt.
<ul><li>For example, there will be a file  itkImage.h.txt for the reviews of the file itkImage.h.</li></ul></li></ul></li>
<li>The presence of the empty .txt files will indicate a <b>Pending</b> status</li>
<li>Reviewers will edit those files, as they review the ITK code, and will populate the files with the ratings and any additional comments that they consider relevant. The changes will be committed, and merged to the master branch of this dedicated repository.</li></ul>
<!-- 
NewPP limit report
Cached time: 20211203145147
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.016 seconds
Real time usage: 0.052 seconds
Preprocessor visited node count: 34/1000000
Preprocessor generated node count: 0/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 391/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key KitwarePublicWikiDB:pcache:idhash:8862-0!canonical and timestamp 20211203145147 and revision id 44231
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://itk.org/Wiki/index.php?title=ITK/Release_4/Modularization/Code_Reviews/Process&amp;oldid=44231">https://itk.org/Wiki/index.php?title=ITK/Release_4/Modularization/Code_Reviews/Process&amp;oldid=44231</a>"</div>
<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div><!-- end content --></body></html>