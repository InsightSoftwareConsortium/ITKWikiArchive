<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>ITK/Release 4/DICOM</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"ce062c93511e0a206c3950b0","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ITK/Release_4/DICOM","wgTitle":"ITK/Release 4/DICOM","wgCurRevisionId":44269,"wgRevisionId":44269,"wgArticleId":6653,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"ITK/Release_4/DICOM","wgRelevantArticleId":6653,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRedirectedFrom":"ITK_Release_4/DICOM",
"wgInternalRedirectTargetUrl":"/ITKWikiArchive/Wiki/ITK/Release_4/DICOM"};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","skins.monobook.styles":"ready"};RLPAGEMODULES=["mediawiki.action.view.redirect","site","mediawiki.page.ready","mediawiki.toc","skins.monobook.scripts"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1i9g4",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link href="/Wiki/load.php?lang=en&amp;modules=skins.monobook.styles&amp;only=styles&amp;skin=monobook" rel="stylesheet"/>
<script async="" src="/Wiki/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=monobook"></script>
<meta content="" name="ResourceLoaderDynamicStyles"/>
<link href="/Wiki/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=monobook" rel="stylesheet"/>
<meta content="MediaWiki 1.38.6" name="generator"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0" name="viewport"/>
<link href="/favicon.ico" rel="shortcut icon"/>
<link href="/Wiki/opensearch_desc.php" rel="search" title="KitwarePublic (en)" type="application/opensearchdescription+xml"/>
<link href="https://public.kitware.com/Wiki/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="https://creativecommons.org/licenses/by/2.5/" rel="license"/>
<link href="/Wiki/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="KitwarePublic Atom feed" type="application/atom+xml"/>
<link href="https://public.kitware.com/ITKWikiArchive/Wiki/ITK/Release_4/DICOM" rel="canonical"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ITK_Release_4_DICOM rootpage-ITK skin-monobook action-view skin--responsive"><!-- start content -->
<div class="mw-body-content mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p><b>Improving DICOM Support</b>
</p>
<div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Goals"><span class="tocnumber">1</span> <span class="toctext">Goals</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Improve_the_support_for_DICOM_in_ITK"><span class="tocnumber">1.1</span> <span class="toctext">Improve the support for DICOM in ITK</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Other_requests_from_the_ITK_community"><span class="tocnumber">1.2</span> <span class="toctext">Other requests from the ITK community</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Development_process"><span class="tocnumber">2</span> <span class="toctext">Development process</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Discussions_and_Brainstorming"><span class="tocnumber">3</span> <span class="toctext">Discussions and Brainstorming</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Discussions_about_PACS_Support"><span class="tocnumber">3.1</span> <span class="toctext">Discussions about PACS Support</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Discussion_about_Streaming"><span class="tocnumber">3.2</span> <span class="toctext">Discussion about Streaming</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Discussion_about_RT-Struct"><span class="tocnumber">3.3</span> <span class="toctext">Discussion about RT-Struct</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Roadmap"><span class="tocnumber">4</span> <span class="toctext">Roadmap</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#TCons"><span class="tocnumber">5</span> <span class="toctext">TCons</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Meeting"><span class="tocnumber">6</span> <span class="toctext">Meeting</span></a></li>
</ul>
</div>
<h1><span class="mw-headline" id="Goals">Goals</span></h1>
<h2><span class="mw-headline" id="Improve_the_support_for_DICOM_in_ITK">Improve the support for DICOM in ITK</span></h2>
<ol><li>DICOM communication layer (a.k.a. PACS support, DICOM Protocol)</li>
<li>Streaming of DICOM Objects</li>
<li>Read and write RTStruct</li>
<li>Type checking</li>
<li>Minimum DICOM skeleton generation</li></ol>
<h2><span class="mw-headline" id="Other_requests_from_the_ITK_community">Other requests from the ITK community</span></h2>
<ul><li>handling of higher order manifold as described in DICOM standard</li>
<li>handling of DICOMDIR format disk archives (navneeth)
<ul><li>Unlike a standard dicom series (located in a single directory) the DICOMDIR format spreads files across directories</li>
<li>A reader that reads the DICOMDIR file and parses appropriate files &amp; directories is desirable</li></ul></li></ul>
<h1><span class="mw-headline" id="Development_process">Development process</span></h1>
<p>The idea is to simplify the maintenance in the future:
</p>
<ul><li>update included version of gdcm</li>
<li>synchronise included version and gdcm proper</li>
<li>send the patches upstream</li></ul>
<p>To do this, we forked a version of gdcm in github to use for integration and maintenance in iTK v4 (<a class="external free" href="https://github.com/ComplexSystemsModeling/GDCM" rel="nofollow">https://github.com/ComplexSystemsModeling/GDCM</a>).
This fork will get all the modifications and patches from ITK, and will let us easily send them upstream.
Builds for ITK using this fork and the original gdcm (<a class="external free" href="https://github.com/malaterre/GDCM" rel="nofollow">https://github.com/malaterre/GDCM</a>) have been set up. Eventually there will be three kinds of itk/gdcm builds on the dashboard:
</p>
<ul><li>ITK with included gdcm</li>
<li>ITK with SYSTEM_GDCM using our fork</li>
<li>ITK with SYSTEM_GDCM using gdcm proper</li></ul>
<p>Modifications should go to our fork of gdcm first, so we expect the ITK with GDCM FORK to be the greenest. Then, we should transfer those to ITK, and eventually upstream.
</p><p>dev process:
</p>
<ul><li>modify code (this can be either in ITK or in GDCM FORK, depending on the modification)</li>
<li>(re) install GDCM FORK on the system (as ITK does not work with a build tree of gdcm)</li>
<li>check ITK with GDCM FORK (local-experimental-nightly)</li>
<li>push to itk-gerrit</li>
<li>check ITK proper builds</li>
<li>gerrit merge</li></ul>
<p>That means, developers need to maintain both a SYSTEM GDCM FORK build and an ITK build locally.
</p>
<h1><span class="mw-headline" id="Discussions_and_Brainstorming">Discussions and Brainstorming</span></h1>
<h2><span class="mw-headline" id="Discussions_about_PACS_Support">Discussions about PACS Support</span></h2>
<ul><li><a href="/Wiki/ITKv4_DICOM_Communications_Discussion" title="ITKv4 DICOM Communications Discussion"> Initial discussions about PACS Support</a></li></ul>
<h2><span class="mw-headline" id="Discussion_about_Streaming">Discussion about Streaming</span></h2>
<ul><li>Original GDCM Milestone <a class="external text" href="https://sourceforge.net/apps/trac/gdcm/milestone/%5BMM-09%5D%20%E2%80%93%20Streaming" rel="nofollow">here</a></li>
<li>Overview (should be made JIRA tickets. Some of them are done already, to check)
<ul><li>Create a gdcm.StreamImageReader</li>
<li>Add support for extent to ImageCodec hierarchy</li>
<li>Make JPEG2000Codec Streamable</li>
<li>Make JPEGCodec Streamable</li>
<li>Make RAWCodec Streamable</li>
<li>Make RLECodec Streamable</li>
<li>Make JPEGLSCodec Streamable</li>
<li>Update CharLS for streaming capability</li>
<li>Add support for BasicOffsetTable</li></ul></li></ul>
<ul><li>Malaterre: to the best of my knownledge they can be executed in this order. The goal being to import subportion of large file in ITK. For this one'll need to implement a new gdcm.ImageReader (I called it gdcm.StreamImageReader), I have explained the implementation details of this class in bug #53.</li>
<li>Once this class is done, you will start by making the RAW codec 'streamable'. It should only read a subportion of a RAW (uncompressed) DICOM file, then you'll move on to more complex one (JPEG, J2K, RLE and JPEG-LS).</li></ul>
<h2><span class="mw-headline" id="Discussion_about_RT-Struct">Discussion about RT-Struct</span></h2>
<ul><li>there is an existing implementation in vtk. Reading should be easier than writing, the later requiring some DICOM knowledge.
<ul><li>vtkGDCMPolyDataReader <a class="external text" href="http://gdcm.sourceforge.net/html/classvtkGDCMPolyDataReader.html" rel="nofollow">here</a>
<ul><li>The actual function needed is <a class="external text" href="https://sourceforge.net/apps/trac/gdcm/browser/trunk/Utilities/VTK/vtkGDCMPolyDataReader.cxx#L229" rel="nofollow">here</a> int vtkGDCMPolyDataReader::RequestData_RTStructureSetStorage(gdcm::Reader const &amp;reader, vtkInformationVector *outputVector)</li></ul></li>
<li>vtkGDCMPolyDataWriter <a class="external text" href="http://gdcm.sourceforge.net/html/classvtkGDCMPolyDataWriter.html" rel="nofollow">here</a></li>
<li>vtkRTStructSetProperties <a class="external text" href="http://gdcm.sourceforge.net/html/classvtkRTStructSetProperties.html" rel="nofollow">here</a></li>
<li>Examples/Cxx/GenerateRTSTRUCT</li></ul></li>
<li>there is IJ papers to read and write RTSTRUCT
<ul><li><a class="external text" href="http://hdl.handle.net/1926/1521" rel="nofollow">write</a></li>
<li><a class="external text" href="http://hdl.handle.net/10380/3132" rel="nofollow">read</a></li></ul></li></ul>
<ul><li>Some leftover GDCM milestone <a class="external text" href="http://sourceforge.net/apps/trac/gdcm/query?group=status&amp;milestone=%5BMM-12%5D+-+RT+support" rel="nofollow">here</a></li></ul>
<h1><span class="mw-headline" id="Roadmap">Roadmap</span></h1>
<ul><li><a href="/Wiki/DICOM_Roadmap_Dec2011" title="DICOM Roadmap Dec2011"> September 1, 2011 to December 31, 2011</a></li></ul>
<h1><span class="mw-headline" id="TCons">TCons</span></h1>
<ul><li><a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Tcon_2011_08_25" title="ITK Release 4/DICOM/Tcon 2011 08 25">TCon 2011/August/25</a>, <a class="new" href="/Wiki/index.php?title=ITK_Release_4/DICOM/Minutes_2011_08_25&amp;action=edit&amp;redlink=1" title="ITK Release 4/DICOM/Minutes 2011 08 25 (page does not exist)"> Minutes 2011_08_25</a>
<ul><li>See complimentary set of meeting notes <a class="external text" href="http://wiki.na-mic.org/Wiki/index.php/Events:2011-08-24-DICOM-ITK-Discussion#DICOM.2FWrapping_in_ITKv4" rel="nofollow">HERE</a>.</li></ul></li>
<li><a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Tcon_2011_06_09" title="ITK Release 4/DICOM/Tcon 2011 06 09">TCon 2011/June/09</a>, <a class="new" href="/Wiki/index.php?title=ITK_Release_4/DICOM/Minutes_2011_06_09&amp;action=edit&amp;redlink=1" title="ITK Release 4/DICOM/Minutes 2011 06 09 (page does not exist)"> Minutes 2011_06_09</a></li>
<li><a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Tcon_2011_05_20" title="ITK Release 4/DICOM/Tcon 2011 05 20">TCon 2011/May/20</a>, <a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Minutes_2011_05_20" title="ITK Release 4/DICOM/Minutes 2011 05 20"> Minutes 2011_05_20</a></li>
<li><a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Tcon_2011_05_13" title="ITK Release 4/DICOM/Tcon 2011 05 13">TCon 2011/May/13</a>, <a class="new" href="/Wiki/index.php?title=ITK_Release_4/DICOM/Minutes_2011_05_13&amp;action=edit&amp;redlink=1" title="ITK Release 4/DICOM/Minutes 2011 05 13 (page does not exist)"> Minutes 2011_05_13</a></li>
<li><a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Tcon_2011_04_22" title="ITK Release 4/DICOM/Tcon 2011 04 22">TCon 2011/April/22</a>, NoMinutes</li>
<li><a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Tcon_2011_04_15" title="ITK Release 4/DICOM/Tcon 2011 04 15">TCon 2011/April/15</a>, <a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Minutes_2011_04_15" title="ITK Release 4/DICOM/Minutes 2011 04 15"> Minutes 2011_04_15</a></li>
<li><a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Tcon_2010_10_11" title="ITK Release 4/DICOM/Tcon 2010 10 11">TCon 2010/10/11</a>, <a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Minutes_2010_10_11" title="ITK Release 4/DICOM/Minutes 2010 10 11"> Minutes 2010_10_11</a></li></ul>
<h1><span class="mw-headline" id="Meeting">Meeting</span></h1>
<ul><li><a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/Meeting_IOWA_2010" title="ITK Release 4/DICOM/Meeting IOWA 2010">Meeting Iowa</a></li></ul>
<ul><li><a class="mw-redirect" href="/Wiki/ITK_Release_4/DICOM/GDCM_Tcon_Notes" title="ITK Release 4/DICOM/GDCM Tcon Notes">Meeting GDCM Tcon</a></li></ul>
<!-- 
NewPP limit report
Cached time: 20231114133221
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.009 seconds
Real time usage: 0.009 seconds
Preprocessor visited node count: 48/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
<!-- Saved in parser cache with key KitwarePublicWikiDB:pcache:idhash:6653-0!canonical and timestamp 20231114133221 and revision id 44269. Serialized with JSON.
 -->
</div>
</div>

<!-- end content --></body>
</html>