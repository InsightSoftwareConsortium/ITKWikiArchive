<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>ITK/Release 4/Testing On Demand/Tutorial</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"0a6d8d55cffbe8ab01996412","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"ITK/Release_4/Testing_On_Demand/Tutorial","wgTitle":"ITK/Release 4/Testing On Demand/Tutorial","wgCurRevisionId":56717,"wgRevisionId":56717,"wgArticleId":7978,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"ITK/Release_4/Testing_On_Demand/Tutorial","wgRelevantArticleId":7978,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[
],"wgRedirectedFrom":"ITK_Release_4/Testing_On_Demand/Tutorial","wgInternalRedirectTargetUrl":"/ITKWikiArchive/Wiki/ITK/Release_4/Testing_On_Demand/Tutorial"};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","skins.monobook.styles":"ready"};RLPAGEMODULES=["mediawiki.action.view.redirect","site","mediawiki.page.ready","mediawiki.toc","skins.monobook.scripts"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link href="/Wiki/load.php?lang=en&amp;modules=skins.monobook.styles&amp;only=styles&amp;skin=monobook" rel="stylesheet"/>
<script async="" src="/Wiki/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=monobook"></script>
<meta content="" name="ResourceLoaderDynamicStyles"/>
<link href="/Wiki/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=monobook" rel="stylesheet"/>
<meta content="MediaWiki 1.37.1" name="generator"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0" name="viewport"/>
<link href="/favicon.ico" rel="shortcut icon"/>
<link href="/Wiki/opensearch_desc.php" rel="search" title="KitwarePublic (en)" type="application/opensearchdescription+xml"/>
<link href="https://public.kitware.com/Wiki/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="https://creativecommons.org/licenses/by/2.5/" rel="license"/>
<link href="/Wiki/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="KitwarePublic Atom feed" type="application/atom+xml"/>
<link href="https://public.kitware.com/ITKWikiArchive/Wiki/ITK/Release_4/Testing_On_Demand/Tutorial" rel="canonical"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ITK_Release_4_Testing_On_Demand_Tutorial rootpage-ITK skin-monobook action-view skin--responsive"><!-- start content -->
<div class="mw-body-content mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#How_to_Setup_a_Client"><span class="tocnumber">2</span> <span class="toctext">How to Setup a Client</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#XML_Description"><span class="tocnumber">2.1</span> <span class="toctext">XML Description</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#CTest_script"><span class="tocnumber">2.2</span> <span class="toctext">CTest script</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Common_Script"><span class="tocnumber">2.3</span> <span class="toctext">Common Script</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Run_It"><span class="tocnumber">2.4</span> <span class="toctext">Run It</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#How_to_Schedule_a_Testing_Task"><span class="tocnumber">3</span> <span class="toctext">How to Schedule a Testing Task</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Login_into_CDash"><span class="tocnumber">3.1</span> <span class="toctext">Login into CDash</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Select_the_Scheduling_Icon"><span class="tocnumber">3.2</span> <span class="toctext">Select the Scheduling Icon</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Select_a_Client"><span class="tocnumber">3.3</span> <span class="toctext">Select a Client</span></a></li>
</ul>
</li>
</ul>
</div>
<h1><span class="mw-headline" id="Overview">Overview</span></h1>
<p>There are two steps for setting up an on-demand CDash test.  If you want make your computer available to the InsightToolkit project for testing, just complete step 1.  Step 2 is only available to CDash administrators.
</p>
<ol><li><a href="#How_to_Setup_a_Client"> Configure your client</a></li>
<li><a href="#How_to_Schedule_a_Testing_Task"> Tell the CDash server to use your client</a></li></ol>
<h1><span class="mw-headline" id="How_to_Setup_a_Client">How to Setup a Client</span></h1>
<p>A cdash@home client is a computer that is donating time to CDash.  It makes itself available to run testing tasks, such as builds for the <a href="/ITKWikiArchive/Wiki/ITK/Gerrit" title="ITK/Gerrit"> the Gerrit review system</a>, that may be requested by CDash.
</p>
<h2><span class="mw-headline" id="XML_Description">XML Description</span></h2>
<p>Place an XML description of your client machine, whose name is perhaps awesomebox, in an XML file, e.g. <i>awesomebox.cdash.xml</i>.
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;cdash&gt;
  &lt;system&gt;
    &lt;platform&gt;Linux&lt;/platform&gt;
    &lt;version&gt;Ubuntu&lt;/version&gt;
    &lt;bits&gt;64&lt;/bits&gt;
    &lt;basedirectory&gt;/home/ibanez/Dashboards/cdashclient_workspace/&lt;/basedirectory&gt;
  &lt;/system&gt;
  &lt;compiler&gt;
    &lt;name&gt;gcc&lt;/name&gt;
    &lt;version&gt;4.4.3&lt;/version&gt;
    &lt;generator&gt;Unix Makefiles&lt;/generator&gt;
  &lt;/compiler&gt;
  &lt;cmake&gt;
    &lt;version&gt;2.8&lt;/version&gt;
    &lt;path&gt;/home/ibanez/local/bin/cmake&lt;/path&gt;
  &lt;/cmake&gt;
  &lt;program&gt;
    &lt;name&gt;git&lt;/name&gt;
    &lt;version&gt;1.7.0.4&lt;/version&gt;
    &lt;path&gt;/usr/bin/git&lt;/path&gt;
  &lt;/program&gt;
  &lt;allowedproject&gt;Insight&lt;/allowedproject&gt;
&lt;/cdash&gt;
</pre>
<p>Valid values for the <i>cdash/system/platform</i> element and the <i>cdash/system/version</i> element can be observed here:
<a class="external text" href="https://www.kitware.com/svn/CDash/trunk/models/clientos.php" rel="nofollow">Client OS description</a>
</p>
<h2><span class="mw-headline" id="CTest_script">CTest script</span></h2>
<p>A CTest script to advertise your availability to the CDash server.  Pit this in a file such as <i>awesomebox.ctest</i>.
</p>
<pre># These variables define the system and should be set
# In the future CTest might be able to determine this automatically
set(CDASH_SITENAME "awesomebox")
set(CDASH_SYSTEMNAME "Ubuntu-64bits")
get_filename_component(_thisdir "${CMAKE_CURRENT_LIST_FILE}" PATH)
set(CDASH_SITE_CONFIG_FILE "${_thisdir}/awesomebox.cdash.xml")
set(CDASH_TEMP_DIRECTORY "${_thisdir}/workspace/tmp")
set(CTEST_EXECUTABLE "/usr/bin/ctest")
set(CTEST_DROP_SITE "open.cdash.org")
set(CTEST_DROP_URL "/submit.php")
set(CDASH_LOOP_DURATION 64800) # Available for 18 hours / day
# Now include the common setup for cdash
include(cdash_client_common.ctest)
</pre>
<h2><span class="mw-headline" id="Common_Script">Common Script</span></h2>
<p>And finally, you need to put in the same directory the common script:
</p>
<ul><li><a class="external text" href="https://www.kitware.com/svn/CDash/trunk/scripts/cdash_client_common.ctest" rel="nofollow">cdash_client_common.ctest</a></li></ul>
<p>that is included at the bottom of the client script.
</p>
<h2><span class="mw-headline" id="Run_It">Run It</span></h2>
<p>you run the ctest script the usual way with CTest
</p>
<pre> ctest   -S  awesomebox.ctest   -V
</pre>
<p>The system will reply with a message similar to
</p>
<pre> Cannot create directory /Testing/Temporary
 Cannot create log file: LastSubmit.log
 Submit files (using http)
    Using HTTP submit method
    Drop site:<a class="external free" href="http://open.cdash.org/submit.php?sitename=awesomebox&amp;systemname=Ubuntu-64bits&amp;submitinfo=1" rel="nofollow">http://open.cdash.org/submit.php?sitename=awesomebox&amp;systemname=Ubuntu-64bits&amp;submitinfo=1</a>
    Uploaded: /home/ibanez/Dashboards/cdashclient/cdash-home/awesomebox.cdash.xml
    Submission successful
 SiteId=13
 2: Nothing to do...
 22: Nothing to do...
 ...
</pre>
<p>The client will ping the server every 30 seconds (this value may change in the future) to check if the server has any new tasks for the client.
</p>
<h1><span class="mw-headline" id="How_to_Schedule_a_Testing_Task">How to Schedule a Testing Task</span></h1>
<p>In order to schedule a testing task in CDash you should execute the following steps:
</p>
<h2><span class="mw-headline" id="Login_into_CDash">Login into CDash</span></h2>
<p>Go to the CDash page of your administrator account
</p>
<ul><li><a class="external free" href="http://open.cdash.org/user.php" rel="nofollow">http://open.cdash.org/user.php</a></li></ul>
<h2><span class="mw-headline" id="Select_the_Scheduling_Icon">Select the Scheduling Icon</span></h2>
<ul><li>Click on the icon of a Floppy disk with a Gear on top
<ul><li>Marked as "Schedule Build"</li></ul></li></ul>
<p><a class="image" href="/Wiki/File:ITK-testing-on-demand.png"><img alt="ITK-testing-on-demand.png" decoding="async" height="173" src="/Wiki/images/thumb/5/50/ITK-testing-on-demand.png/400px-ITK-testing-on-demand.png" srcset="/Wiki/images/thumb/5/50/ITK-testing-on-demand.png/600px-ITK-testing-on-demand.png 1.5x, /Wiki/images/5/50/ITK-testing-on-demand.png 2x" width="400"/></a>
</p>
<ul><li>This will show the available machines and their platform features.</li>
<li>The "Schedule Build" icon is available only to CDash users whose project role is "project administrator."</li>
<li>If you still don't see it as Project Administrator, make sure the <a class="external text" href="http://public.kitware.com/Wiki/CDash:Build_Management" rel="nofollow">$CDASH_MANAGE_CLIENTS variable is '1'</a> in your cdash/config.php.</li></ul>
<p><br/>
The top of the web interface looks like:
</p><p><a class="image" href="/Wiki/File:ITK-testing-on-demand-02.png"><img alt="ITK-testing-on-demand-02.png" decoding="async" height="493" src="/Wiki/images/thumb/9/9f/ITK-testing-on-demand-02.png/400px-ITK-testing-on-demand-02.png" srcset="/Wiki/images/thumb/9/9f/ITK-testing-on-demand-02.png/600px-ITK-testing-on-demand-02.png 1.5x, /Wiki/images/9/9f/ITK-testing-on-demand-02.png 2x" width="400"/></a>
</p><p>and the bottom of the same page looks like:
</p><p><a class="image" href="/Wiki/File:ITK-testsing-on-demand-03.png"><img alt="ITK-testsing-on-demand-03.png" decoding="async" height="256" src="/Wiki/images/thumb/b/b2/ITK-testsing-on-demand-03.png/400px-ITK-testsing-on-demand-03.png" srcset="/Wiki/images/thumb/b/b2/ITK-testsing-on-demand-03.png/600px-ITK-testsing-on-demand-03.png 1.5x, /Wiki/images/thumb/b/b2/ITK-testsing-on-demand-03.png/800px-ITK-testsing-on-demand-03.png 2x" width="400"/></a>
</p>
<h2><span class="mw-headline" id="Select_a_Client">Select a Client</span></h2>
<p>Select a client or clients by clicking on the
</p>
<ul><li>Architecture list</li>
<li>Compiler list</li></ul>
<p>and finally going to the bottom of the interface and clicking on the "Schedule" button.
</p>
<!-- 
NewPP limit report
Cached time: 20221002194028
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.017 seconds
Real time usage: 0.018 seconds
Preprocessor visited node count: 36/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
<!-- Saved in parser cache with key KitwarePublicWikiDB:pcache:idhash:7978-0!canonical and timestamp 20221002194028 and revision id 56717. Serialized with JSON.
 -->
</div>
</div>

<!-- end content --></body></html>